<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nhá»¯ng con khá»‰ A5K60 - Trang chá»§</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database-compat.js"></script>
    
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAbD9ave4WUPk9MndVZ7_3_f5XyhNVepEY",
            authDomain: "a5k60-website.firebaseapp.com",
            databaseURL: "https://a5k60-website-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "a5k60-website",
            storageBucket: "a5k60-website.firebasestorage.app",
            messagingSenderId: "1083754554024",
            appId: "1:1083754554024:web:6847ea23b19a9369dc989d"
        };
        
        firebase.initializeApp(firebaseConfig);
        window.db = firebase.database();
        console.log('âœ… Firebase káº¿t ná»‘i thÃ nh cÃ´ng!');
    </script>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-6 shadow-lg">
        <div class="container mx-auto px-4 text-center">
            <div class="text-5xl mb-2">ğŸ’</div>
            <h1 class="text-3xl font-bold">Nhá»¯ng con khá»‰ A5K60</h1>
            <p class="text-blue-100 mt-2">Cá»™ng Ä‘á»“ng 46 thÃ nh viÃªn Ä‘áº·c biá»‡t - NÆ¡i káº¿t ná»‘i vÃ  chia sáº»</p>
        </div>
    </header>

    <!-- Stats -->
    <section class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-3 gap-4 max-w-2xl mx-auto">
            <div class="bg-white rounded-lg p-4 text-center shadow">
                <div class="text-2xl font-bold text-blue-600">46</div>
                <div class="text-gray-600">ThÃ nh viÃªn</div>
            </div>
            <div class="bg-white rounded-lg p-4 text-center shadow">
                <div class="text-2xl font-bold text-green-600">âˆ</div>
                <div class="text-gray-600">Ká»· niá»‡m</div>
            </div>
            <div class="bg-white rounded-lg p-4 text-center shadow">
                <div class="text-2xl font-bold text-red-600">â™¥</div>
                <div class="text-gray-600">TÃ¬nh báº¡n</div>
            </div>
        </div>
    </section>

    <!-- Search -->
    <section class="container mx-auto px-4 mb-6">
        <div class="max-w-md mx-auto">
            <input type="text" id="search-input" placeholder="ğŸ” TÃ¬m thÃ nh viÃªn..." 
                   class="w-full px-4 py-3 rounded-full border-2 border-blue-300 focus:border-blue-500 focus:outline-none shadow-sm">
        </div>
    </section>

    <!-- Members Grid -->
    <section class="container mx-auto px-4 pb-12">
        <div id="members-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <!-- Load tá»± Ä‘á»™ng -->
        </div>
        <div id="no-results" class="hidden text-center py-12 text-gray-500">
            <div class="text-4xl mb-4">ğŸ”</div>
            <h3 class="text-xl font-semibold">KhÃ´ng tÃ¬m tháº¥y thÃ nh viÃªn</h3>
        </div>
    </section>

    <script src="main.js"></script>
    
    <script>
        // Danh sÃ¡ch 46 thÃ nh viÃªn A5K60
        const memberNames = [
            "VÃµ ÄÄƒng HoÃ ng Anh", "VÃµ HoÃ ng Anh", "Äinh Viáº¿t DÅ©ng", "LÃª Thá»‹ ThÃ¹y DÆ°Æ¡ng", "Nguyá»…n HÃ n Giang",
            "Nguyá»…n Thá»‹ Diá»…m Háº±ng", "Nguyá»…n Thá»‹ ThÃºy Háº±ng", "Nguyá»…n Báº£o HoÃ ng", "Nguyá»…n VÄƒn Quá»‘c Há»™i", "Huá»³nh Gia Huy",
            "Tráº§n Huy HoÃ ng", "Há»“ CÃ´ng HÆ°ng", "Nguyá»…n Anh Kha", "LÃª Quang Khoa", "Nguyá»…n Anh KhÃ´i",
            "Mai ÄÄƒng Linh", "Nguyá»…n HoÃ i PhÆ°Æ¡ng Linh", "Nguyá»…n Thá»‹ KhÃ¡nh Linh", "Nguyá»…n Tháº£o Ly", "Nguyá»…n Ngá»c Huy Minh",
            "VÃµ KhÃ¡nh Minh", "LÃª Thá»‹ TrÃ  My", "Nguyá»…n Diá»…m My", "VÃµ Tráº§n Thá»¥c Nghi", "LÃª Há»¯u NghÄ©a",
            "Nguyá»…n BÃ­ch Ngá»c", "Tráº§n Thá»‹ Thanh Ngá»c", "Nguyá»…n ÄÄƒng NguyÃªn", "Nguyá»…n XuÃ¢n HoÃ ng NguyÃªn", "Pháº¡m HoÃ ng Tháº£o NguyÃªn",
            "LÃª Minh Nháº­t", "Nguyá»…n Thá»‹ Quá»³nh NhÆ°", "Äáº·ng ThÃ nh PhÃ¡t", "LÃª Ngá»c Quang", "TrÆ°Æ¡ng Nháº­t SÆ¡n",
            "Nguyá»…n ThÃ¡i SÆ¡n", "VÅ© Minh SÆ¡n", "Nguyá»…n Quang Thanh", "Tráº§n HÆ°Æ¡ng TrÃ ", "Nguyá»…n Ngá»c Tháº£o Trang",
            "Tráº§n Ngá»c Huyá»n TrÃ¢n", "LÃª Nguyá»…n KhÃ¡nh Triá»u", "LÃª Ngá»c Thanh TrÃºc", "LÃª VÃµ Anh Tuáº¥n", "LÃª Thanh Tuyáº¿n",
            "Nguyá»…n HÃ  Vy"
        ];

        // HÃ m táº¡o tháº» thÃ nh viÃªn
        function createMemberCard(memberId, data) {
            const card = document.createElement('div');
            card.className = 'member-card bg-white rounded-lg p-4 shadow-lg cursor-pointer hover:shadow-xl transition-all hover:scale-105';
            card.setAttribute('data-member-id', memberId);
            
            const displayName = data.name || memberNames[parseInt(memberId) - 1] || `ThÃ nh viÃªn ${memberId}`;
            const avatar = data.avatar || `https://via.placeholder.com/100x100/4F46E5/FFFFFF?text=${memberId}`;
            
            card.innerHTML = `
                <div class="text-center">
                    <img src="${avatar}" alt="${displayName}" class="avatar w-20 h-20 rounded-full mx-auto mb-3 object-cover border-4 border-blue-100">
                    <h3 class="member-name font-bold text-lg text-gray-800 mb-1">${displayName}</h3>
                    <p class="member-bio text-sm text-gray-600 mb-2">${data.bio || 'ThÃ nh viÃªn tuyá»‡t vá»i cá»§a nhÃ³m A5K60'}</p>
                    <div class="member-hobbies flex flex-wrap justify-center gap-1 mt-2">
                        ${(data.hobbies || []).slice(0, 3).map(hobby => 
                            `<span class="text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full">${hobby}</span>`
                        ).join('')}
                    </div>
                    <div class="text-xs text-gray-400 mt-2">ID: ${memberId}</div>
                </div>
            `;
            
            card.addEventListener('click', () => {
                localStorage.setItem('viewingMemberId', memberId);
                window.location.href = `profile.html?id=${memberId}`;
            });
            
            return card;
        }

        // HÃ m load vÃ  láº¯ng nghe real-time
        function initializeMembers() {
            const container = document.getElementById('members-container');
            const noResults = document.getElementById('no-results');
            
            if (!container) return;
            
            db.ref('members').on('value', (snapshot) => {
                const members = snapshot.val();
                container.innerHTML = '';
                
                // Náº¿u chÆ°a cÃ³ dá»¯ liá»‡u, táº¡o máº·c Ä‘á»‹nh tá»« memberNames
                if (!members) {
                    for (let i = 1; i <= 46; i++) {
                        const memberId = i.toString().padStart(2, '0');
                        const card = createMemberCard(memberId, {});
                        container.appendChild(card);
                    }
                } else {
                    Object.keys(members).sort().forEach(memberId => {
                        const card = createMemberCard(memberId, members[memberId]);
                        container.appendChild(card);
                    });
                    
                    anime({
                        targets: '.member-card',
                        opacity: [0, 1],
                        translateY: [30, 0],
                        delay: anime.stagger(50),
                        duration: 600
                    });
                }
            });
            
            // Láº¯ng nghe thay Ä‘á»•i real-time
            db.ref('members').on('child_changed', (snapshot) => {
                const memberId = snapshot.key;
                const data = snapshot.val();
                const card = document.querySelector(`[data-member-id="${memberId}"]`);
                if (card) {
                    card.querySelector('.member-name').textContent = data.name || memberNames[parseInt(memberId) - 1];
                    card.querySelector('.member-bio').textContent = data.bio || 'ThÃ nh viÃªn A5K60';
                    card.querySelector('.avatar').src = data.avatar || card.querySelector('.avatar').src;
                    
                    anime({
                        targets: card,
                        scale: [1, 1.05, 1],
                        duration: 500
                    });
                }
            });
        }

        // TÃ¬m kiáº¿m
        function setupSearch() {
            const searchInput = document.getElementById('search-input');
            searchInput.addEventListener('input', (e) => {
                const query = e.target.value.toLowerCase();
                const cards = document.querySelectorAll('.member-card');
                let hasResults = false;
                
                cards.forEach(card => {
                    const name = card.querySelector('.member-name').textContent.toLowerCase();
                    const id = card.getAttribute('data-member-id');
                    if (name.includes(query) || id.includes(query)) {
                        card.style.display = 'block';
                        hasResults = true;
                    } else {
                        card.style.display = 'none';
                    }
                });
                
                document.getElementById('no-results').classList.toggle('hidden', hasResults || query === '');
            });
        }

        // Khá»Ÿi cháº¡y
        document.addEventListener('DOMContentLoaded', () => {
            initializeMembers();
            setupSearch();
        });
    </script>
</body>
</html>
